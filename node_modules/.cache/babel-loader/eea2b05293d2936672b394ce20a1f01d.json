{"ast":null,"code":"var _jsxFileName = \"/home/shames/Desktop/burger-restaurant/src/containers/BurgerBuilder/BurgerBuilder.js\";\nimport React, { Component } from 'react';\nimport Aux from '../../hoc/Auxilary/Auxillary';\nimport Burger from '../../components/Burger/Burger';\nimport BuildControls from '../../components/Burger/BuildControls/BuildControls';\nimport Modal from '../../components/UI/Modal/Modal';\nimport OrderSummary from '../../components/Burger/OrderSummary/OrderSummary';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INGREDIENT_PRICES = {\n  salad: 0.5,\n  cheese: 0.4,\n  meat: 1.3,\n  bacon: 0.7\n};\n\nclass BurgerBuilder extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      ingredients: {\n        salad: 0,\n        bacon: 0,\n        cheese: 0,\n        meat: 0\n      },\n      totalPrice: 4,\n      totalVatPrice: 0,\n      vat: 0,\n      purchasable: false,\n      purchasing: false\n    };\n\n    this.addIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n      const updatedCount = oldCount + 1;\n      const updatedIngredients = { ...this.state.ingredients\n      };\n      updatedIngredients[type] = updatedCount;\n      const priceAddition = INGREDIENT_PRICES[type];\n      const oldPrice = this.state.totalPrice;\n      const newPrice = oldPrice + priceAddition;\n      const vatPrice = newPrice * 0.05;\n      const newVatPrice = newPrice + vatPrice;\n      this.setState({\n        totalPrice: newPrice,\n        vat: vatPrice,\n        totalVatPrice: newVatPrice,\n        ingredients: updatedIngredients\n      });\n      this.updatePurchaseState(updatedIngredients);\n    };\n\n    this.removeIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n\n      if (oldCount <= 0) {\n        return;\n      }\n\n      const updatedCount = oldCount - 1;\n      const updatedIngredients = { ...this.state.ingredients\n      };\n      updatedIngredients[type] = updatedCount;\n      const priceDeduction = INGREDIENT_PRICES[type];\n      const oldPrice = this.state.totalPrice;\n      const newPrice = oldPrice - priceDeduction;\n      const vatPrice = newPrice * 0.05;\n      const newVatPrice = newPrice + vatPrice;\n      this.setState({\n        totalPrice: newPrice,\n        vat: vatPrice,\n        totalVatPrice: newVatPrice,\n        ingredients: updatedIngredients\n      });\n      this.updatePurchaseState(updatedIngredients);\n    };\n\n    this.purchaseHandler = () => {\n      this.setState({\n        purchasing: true\n      });\n    };\n\n    this.purchaseCancelHandler = () => {\n      this.setState({\n        purchasing: false\n      });\n    };\n\n    this.purchaseContinueHandler = () => {\n      this.props.history.push('/checkout');\n    };\n  }\n\n  updatePurchaseState(ingredients) {\n    const sum = Object.keys(ingredients).map(igKey => {\n      return ingredients[igKey];\n    }).reduce((sum, el) => {\n      return sum + el;\n    }, 0);\n    this.setState({\n      purchasable: sum > 0\n    });\n  }\n\n  render() {\n    const disabledInfo = { ...this.state.ingredients\n    };\n\n    for (let key in disabledInfo) {\n      disabledInfo[key] = disabledInfo[key] <= 0;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Aux, {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.purchasing,\n        modalClosed: this.purchaseCancelHandler,\n        children: /*#__PURE__*/_jsxDEV(OrderSummary, {\n          ingredients: this.state.ingredients,\n          price: this.state.totalPrice,\n          vatPrice: this.state.totalVatPrice,\n          vat: this.state.vat,\n          purchaseCancelled: this.purchaseCancelHandler,\n          purchaseContinued: this.purchaseContinueHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Burger, {\n        ingredients: this.state.ingredients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BuildControls, {\n        ingredientAdded: this.addIngredientHandler,\n        ingredientRemoved: this.removeIngredientHandler,\n        disabled: disabledInfo,\n        purchasable: this.state.purchasable,\n        ordered: this.purchaseHandler,\n        price: this.state.totalPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default BurgerBuilder;","map":{"version":3,"names":["React","Component","Aux","Burger","BuildControls","Modal","OrderSummary","INGREDIENT_PRICES","salad","cheese","meat","bacon","BurgerBuilder","state","ingredients","totalPrice","totalVatPrice","vat","purchasable","purchasing","addIngredientHandler","type","oldCount","updatedCount","updatedIngredients","priceAddition","oldPrice","newPrice","vatPrice","newVatPrice","setState","updatePurchaseState","removeIngredientHandler","priceDeduction","purchaseHandler","purchaseCancelHandler","purchaseContinueHandler","props","history","push","sum","Object","keys","map","igKey","reduce","el","render","disabledInfo","key"],"sources":["/home/shames/Desktop/burger-restaurant/src/containers/BurgerBuilder/BurgerBuilder.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport Aux from '../../hoc/Auxilary/Auxillary';\nimport Burger from '../../components/Burger/Burger';\nimport BuildControls from '../../components/Burger/BuildControls/BuildControls';\nimport Modal from '../../components/UI/Modal/Modal';\nimport OrderSummary from '../../components/Burger/OrderSummary/OrderSummary';\n\nconst INGREDIENT_PRICES = {\n    salad: 0.5,\n    cheese: 0.4,\n    meat: 1.3,\n    bacon: 0.7\n};\n\nclass BurgerBuilder extends Component {\n    state = {\n        ingredients: {\n            salad: 0,\n            bacon: 0,\n            cheese: 0,\n            meat: 0\n        },\n        totalPrice: 4,\n        totalVatPrice: 0,\n        vat: 0,\n        purchasable: false,\n        purchasing: false\n    }\n\n    updatePurchaseState (ingredients) {\n        const sum = Object.keys( ingredients )\n            .map( igKey => {\n                return ingredients[igKey];\n            } )\n            .reduce( ( sum, el ) => {\n                return sum + el;\n            }, 0 );\n        this.setState( { purchasable: sum > 0 } );\n    }\n\n    addIngredientHandler = ( type ) => {\n        const oldCount = this.state.ingredients[type];\n        const updatedCount = oldCount + 1;\n        const updatedIngredients = {\n            ...this.state.ingredients\n        };\n        updatedIngredients[type] = updatedCount;\n        const priceAddition = INGREDIENT_PRICES[type];\n        const oldPrice = this.state.totalPrice;\n        const newPrice = oldPrice + priceAddition;\n        const vatPrice = newPrice * 0.05;\n        const newVatPrice = newPrice + vatPrice;\n        this.setState( { totalPrice: newPrice, vat: vatPrice, totalVatPrice: newVatPrice, ingredients: updatedIngredients } );\n        this.updatePurchaseState(updatedIngredients);\n    }\n\n    removeIngredientHandler = ( type ) => {\n        const oldCount = this.state.ingredients[type];\n        if ( oldCount <= 0 ) {\n            return;\n        }\n        const updatedCount = oldCount - 1;\n        const updatedIngredients = {\n            ...this.state.ingredients\n        };\n        updatedIngredients[type] = updatedCount;\n        const priceDeduction = INGREDIENT_PRICES[type];\n        const oldPrice = this.state.totalPrice;\n        const newPrice = oldPrice - priceDeduction;\n        const vatPrice = newPrice * 0.05;\n        const newVatPrice = newPrice + vatPrice;\n        this.setState( { totalPrice: newPrice, vat: vatPrice, totalVatPrice: newVatPrice, ingredients: updatedIngredients } );\n        this.updatePurchaseState(updatedIngredients);\n    }\n\n    purchaseHandler = () => {\n        this.setState({purchasing: true});\n    }\n\n    purchaseCancelHandler = () => {\n        this.setState({purchasing: false});\n    }\n\n    purchaseContinueHandler = () => {\n        this.props.history.push('/checkout')\n    }\n\n    render () {\n        const disabledInfo = {\n            ...this.state.ingredients\n        };\n        for ( let key in disabledInfo ) {\n            disabledInfo[key] = disabledInfo[key] <= 0\n        }\n        return (\n            <Aux>\n                <Modal show={this.state.purchasing} modalClosed={this.purchaseCancelHandler}>\n                    <OrderSummary \n                        ingredients={this.state.ingredients}\n                        price={this.state.totalPrice}\n                        vatPrice={this.state.totalVatPrice}\n                        vat={this.state.vat}\n                        purchaseCancelled={this.purchaseCancelHandler}\n                        purchaseContinued={this.purchaseContinueHandler} />\n                </Modal>\n                <Burger ingredients={this.state.ingredients} />\n                <BuildControls\n                    ingredientAdded={this.addIngredientHandler}\n                    ingredientRemoved={this.removeIngredientHandler}\n                    disabled={disabledInfo}\n                    purchasable={this.state.purchasable}\n                    ordered={this.purchaseHandler}\n                    price={this.state.totalPrice} />\n            </Aux>\n        );\n    }\n}\n\nexport default BurgerBuilder;"],"mappings":"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"},"metadata":{},"sourceType":"module"}