{"ast":null,"code":"var _jsxFileName = \"/home/shames/Desktop/burger-restaurant/src/containers/BurgerBuilder/BurgerBuilder.js\";\nimport React, { Component } from 'react';\nimport Aux from '../../hoc/Auxilary/Auxillary';\nimport Burger from '../../components/Burger/Burger';\nimport BuildControls from '../../components/Burger/BuildControls/BuildControls';\nimport Modal from '../../components/UI/Modal/Modal';\nimport OrderSummary from '../../components/Burger/OrderSummary/OrderSummary';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst INGREDIENT_PRICES = {\n  salad: 0.5,\n  cheese: 0.4,\n  meat: 1.3,\n  bacon: 0.7\n};\n\nclass BurgerBuilder extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      ingredients: {\n        salad: 0,\n        bacon: 0,\n        cheese: 0,\n        meat: 0\n      },\n      totalPrice: 4,\n      totalVatPrice: 0,\n      purchasable: false,\n      purchasing: false\n    };\n\n    this.addIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n      const updatedCount = oldCount + 1;\n      const updatedIngredients = { ...this.state.ingredients\n      };\n      updatedIngredients[type] = updatedCount;\n      const priceAddition = INGREDIENT_PRICES[type];\n      const oldPrice = this.state.totalPrice;\n      const newPrice = oldPrice + priceAddition;\n      this.setState({\n        totalPrice: newPrice,\n        ingredients: updatedIngredients\n      });\n      this.updatePurchaseState(updatedIngredients);\n    };\n\n    this.removeIngredientHandler = type => {\n      const oldCount = this.state.ingredients[type];\n\n      if (oldCount <= 0) {\n        return;\n      }\n\n      const updatedCount = oldCount - 1;\n      const updatedIngredients = { ...this.state.ingredients\n      };\n      updatedIngredients[type] = updatedCount;\n      const priceDeduction = INGREDIENT_PRICES[type];\n      const oldPrice = this.state.totalPrice;\n      const newPrice = oldPrice - priceDeduction;\n      const vatPrice = newPrice * 0.05;\n      const newVatPrice = oldPrice + vatPrice;\n      this.setState({\n        totalPrice: newPrice,\n        ingredients: updatedIngredients\n      });\n      this.updatePurchaseState(updatedIngredients);\n    };\n\n    this.vatPriceHandler = () => {\n      const oldPrice = this.state.totalPrice;\n      const vatPrice = oldPrice * 0.05;\n      const newVatPrice = oldPrice + vatPrice;\n      this.setState({\n        totalVatPrice: newVatPrice\n      });\n    };\n\n    this.purchaseHandler = () => {\n      this.setState({\n        purchasing: true\n      });\n    };\n\n    this.purchaseCancelHandler = () => {\n      this.setState({\n        purchasing: false\n      });\n    };\n\n    this.purchaseContinueHandler = () => {\n      alert('You continue!');\n    };\n  }\n\n  updatePurchaseState(ingredients) {\n    const sum = Object.keys(ingredients).map(igKey => {\n      return ingredients[igKey];\n    }).reduce((sum, el) => {\n      return sum + el;\n    }, 0);\n    this.setState({\n      purchasable: sum > 0\n    });\n  }\n\n  render() {\n    const disabledInfo = { ...this.state.ingredients\n    };\n\n    for (let key in disabledInfo) {\n      disabledInfo[key] = disabledInfo[key] <= 0;\n    } // {salad: true, meat: false, ...}\n\n\n    return /*#__PURE__*/_jsxDEV(Aux, {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.purchasing,\n        modalClosed: this.purchaseCancelHandler,\n        children: /*#__PURE__*/_jsxDEV(OrderSummary, {\n          ingredients: this.state.ingredients,\n          price: this.state.totalPrice,\n          vatPrice: this.state.totalVatPrice,\n          purchaseCancelled: this.purchaseCancelHandler,\n          purchaseContinued: this.purchaseContinueHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Burger, {\n        ingredients: this.state.ingredients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BuildControls, {\n        ingredientAdded: this.addIngredientHandler,\n        ingredientRemoved: this.removeIngredientHandler,\n        disabled: disabledInfo,\n        purchasable: this.state.purchasable,\n        ordered: this.purchaseHandler,\n        price: this.state.totalPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default BurgerBuilder;","map":{"version":3,"names":["React","Component","Aux","Burger","BuildControls","Modal","OrderSummary","INGREDIENT_PRICES","salad","cheese","meat","bacon","BurgerBuilder","state","ingredients","totalPrice","totalVatPrice","purchasable","purchasing","addIngredientHandler","type","oldCount","updatedCount","updatedIngredients","priceAddition","oldPrice","newPrice","setState","updatePurchaseState","removeIngredientHandler","priceDeduction","vatPrice","newVatPrice","vatPriceHandler","purchaseHandler","purchaseCancelHandler","purchaseContinueHandler","alert","sum","Object","keys","map","igKey","reduce","el","render","disabledInfo","key"],"sources":["/home/shames/Desktop/burger-restaurant/src/containers/BurgerBuilder/BurgerBuilder.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport Aux from '../../hoc/Auxilary/Auxillary';\nimport Burger from '../../components/Burger/Burger';\nimport BuildControls from '../../components/Burger/BuildControls/BuildControls';\nimport Modal from '../../components/UI/Modal/Modal';\nimport OrderSummary from '../../components/Burger/OrderSummary/OrderSummary';\n\nconst INGREDIENT_PRICES = {\n    salad: 0.5,\n    cheese: 0.4,\n    meat: 1.3,\n    bacon: 0.7\n};\n\nclass BurgerBuilder extends Component {\n    state = {\n        ingredients: {\n            salad: 0,\n            bacon: 0,\n            cheese: 0,\n            meat: 0\n        },\n        totalPrice: 4,\n        totalVatPrice: 0,\n        purchasable: false,\n        purchasing: false\n    }\n\n    updatePurchaseState (ingredients) {\n        const sum = Object.keys( ingredients )\n            .map( igKey => {\n                return ingredients[igKey];\n            } )\n            .reduce( ( sum, el ) => {\n                return sum + el;\n            }, 0 );\n        this.setState( { purchasable: sum > 0 } );\n    }\n\n    addIngredientHandler = ( type ) => {\n        const oldCount = this.state.ingredients[type];\n        const updatedCount = oldCount + 1;\n        const updatedIngredients = {\n            ...this.state.ingredients\n        };\n        updatedIngredients[type] = updatedCount;\n        const priceAddition = INGREDIENT_PRICES[type];\n        const oldPrice = this.state.totalPrice;\n        const newPrice = oldPrice + priceAddition;\n        this.setState( { totalPrice: newPrice, ingredients: updatedIngredients } );\n        this.updatePurchaseState(updatedIngredients);\n    }\n\n    removeIngredientHandler = ( type ) => {\n        const oldCount = this.state.ingredients[type];\n        if ( oldCount <= 0 ) {\n            return;\n        }\n        const updatedCount = oldCount - 1;\n        const updatedIngredients = {\n            ...this.state.ingredients\n        };\n        updatedIngredients[type] = updatedCount;\n        const priceDeduction = INGREDIENT_PRICES[type];\n        const oldPrice = this.state.totalPrice;\n        const newPrice = oldPrice - priceDeduction;\n        const vatPrice = newPrice * 0.05;\n        const newVatPrice = oldPrice + vatPrice;\n        this.setState( { totalPrice: newPrice, ingredients: updatedIngredients } );\n        this.updatePurchaseState(updatedIngredients);\n    }\n\n    vatPriceHandler = () => {\n        const oldPrice = this.state.totalPrice;\n        const vatPrice = oldPrice * 0.05;\n        const newVatPrice = oldPrice + vatPrice;\n        this.setState( { totalVatPrice: newVatPrice} );\n    }\n\n    purchaseHandler = () => {\n        this.setState({purchasing: true});\n    }\n\n    purchaseCancelHandler = () => {\n        this.setState({purchasing: false});\n    }\n\n    purchaseContinueHandler = () => {\n        alert('You continue!');\n    }\n\n    render () {\n        const disabledInfo = {\n            ...this.state.ingredients\n        };\n        for ( let key in disabledInfo ) {\n            disabledInfo[key] = disabledInfo[key] <= 0\n        }\n        // {salad: true, meat: false, ...}\n        return (\n            <Aux>\n                <Modal show={this.state.purchasing} modalClosed={this.purchaseCancelHandler}>\n                    <OrderSummary \n                        ingredients={this.state.ingredients}\n                        price={this.state.totalPrice}\n                        vatPrice={this.state.totalVatPrice}\n                        purchaseCancelled={this.purchaseCancelHandler}\n                        purchaseContinued={this.purchaseContinueHandler} />\n                </Modal>\n                <Burger ingredients={this.state.ingredients} />\n                <BuildControls\n                    ingredientAdded={this.addIngredientHandler}\n                    ingredientRemoved={this.removeIngredientHandler}\n                    disabled={disabledInfo}\n                    purchasable={this.state.purchasable}\n                    ordered={this.purchaseHandler}\n                    price={this.state.totalPrice} />\n            </Aux>\n        );\n    }\n}\n\nexport default BurgerBuilder;"],"mappings":"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"},"metadata":{},"sourceType":"module"}